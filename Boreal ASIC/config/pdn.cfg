# BOREAL ASIC Power Distribution Network Configuration

# Power nets
set ::power_nets $::env(VDD_NETS)
set ::ground_nets $::env(GND_NETS)

# Voltage domains
set_voltage_domain -name {CORE} -power {vdd} -ground {gnd}

# Core ring configuration
set_pdngen_core_ring -name {core_ring} \
    -left_offset 5 \
    -left_width 3.1 \
    -right_offset 5 \
    -right_width 3.1 \
    -top_offset 5 \
    -top_width 3.1 \
    -bottom_offset 5 \
    -bottom_width 3.1 \
    -spacing 1.7 \
    -layer {met4 met5} \
    -widths 3.1 \
    -spacings 1.7

# Standard cell rails
set_pdngen_stdcell_rail -name {stdcell_rail} \
    -type {followpin} \
    -layer {met1} \
    -width 0.48 \
    -spacing 0.48

# Power straps
set_pdngen_power_strap -name {power_strap} \
    -type {followpin} \
    -layer {met4} \
    -width 3.1 \
    -spacing 1.7 \
    -pitch 50

# SRAM macro power connections
set_pdngen_macro_power_connection -name {sram_power} \
    -macro {sram_1k} \
    -power {vdd} \
    -ground {gnd} \
    -orientation {R0 R180 MX MY} \
    -layer {met4}

# Connect macros to PDN
connect_macros_to_pdngrid

# Generate PDN
pdngen
